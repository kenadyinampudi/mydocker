a:356:{i:0;a:3:{i:0;s:14:"document_start";i:1;a:0:{}i:2;i:0;}i:1;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:76:"Configuring disks on Dual VIOS, present disks to guest and create filesystem";i:1;i:1;i:2;i:1;}i:2;i:1;}i:2;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:1;}i:2;i:1;}i:3;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:93;}i:4;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:7:"Request";i:1;i:3;i:2;i:93;}i:2;i:93;}i:5;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:3;}i:2;i:93;}i:6;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:111;}i:7;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:111;}i:8;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:111;}i:9;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:82:" From time to time, we will get requests from application teams like the one below";}i:2;i:115;}i:10;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:105:"Plase create a filesystem /usr/sap/CTA/SUM size 100G and change the owership to ctaadm:sapsys on daerdb01";i:1;N;i:2;N;}i:2;i:202;}i:11;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:315;}i:12;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:315;}i:13;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:315;}i:14;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:317;}i:15;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:10:"Prep tasks";i:1;i:3;i:2;i:317;}i:2;i:317;}i:16;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:3;}i:2;i:317;}i:17;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:338;}i:18;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:338;}i:19;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:338;}i:20;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:60:" Logon to daerdb01 and check if the filesystem exists or not";}i:2;i:342;}i:21;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:23:"ls -ld /usr/sap/CTA/SUM";i:1;N;i:2;N;}i:2;i:407;}i:22;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:407;}i:23;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:160:"If it does exist, even if it is a directory, please go back to the requestor and check with them and make sure it is okay to go ahead and create the filesystem.";}i:2;i:438;}i:24;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:598;}i:25;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:598;}i:26;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:598;}i:27;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:598;}i:28;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:598;}i:29;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:68:" Make sure that the mount point is not on an NFS mounted filesystem.";}i:2;i:602;}i:30;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:22:"df -k /usr/sap/CTA/SUM";i:1;N;i:2;N;}i:2;i:675;}i:31;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:705;}i:32;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:705;}i:33;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:705;}i:34;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:705;}i:35;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:54:" Find out the correct VG for the requested filesystem.";}i:2;i:709;}i:36;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:4:"lsvg";i:1;N;i:2;N;}i:2;i:768;}i:37;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:768;}i:38;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:55:"Check similar filesystems and figure out where they are";}i:2;i:780;}i:39;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:840;}i:40;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:13:"lslv <lvname>";i:1;N;i:2;N;}i:2;i:840;}i:41;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:861;}i:42;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:861;}i:43;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:861;}i:44;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:861;}i:45;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:43:" Find out if the VG has enough space or not";}i:2;i:865;}i:46;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:14:"lsvg <vg_name>";i:1;N;i:2;N;}i:2;i:913;}i:47;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:935;}i:48;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:935;}i:49;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:935;}i:50;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:935;}i:51;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:35:" If the VG has enough space, go to ";}i:2;i:941;}i:52;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:976;}i:53;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:26:"Create the fileysstem step";}i:2;i:977;}i:54;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:1003;}i:55;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1004;}i:56;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1004;}i:57;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1004;}i:58;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1004;}i:59;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:143:" If the VG does not have enough storage, we need to add an additional disk to it. AIX servers we maintain, use one of the following for storage";}i:2;i:1010;}i:60;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1153;}i:61;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:1153;}i:62;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:3;}i:2;i:1153;}i:63;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1153;}i:64;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:20:" Local disks ( SAS, ";}i:2;i:1161;}i:65;a:3:{i:0;s:7:"acronym";i:1;a:1:{i:0;s:4:"SCSI";}i:2;i:1181;}i:66;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:7:", etc )";}i:2;i:1185;}i:67;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:317:"lsdev -Ccdisk | egrep -i "sas|scsi"
hdisk3   Available 03-00-00 SAS Disk Drive
hdisk4   Available 02-00-00 SAS RAID 0 SSD Array
hdisk5   Available 02-00-00 SAS RAID 0 SSD Array
hdisk6   Available 08-00-00 SAS Disk Drive
hdisk7   Available 05-00-00 SAS RAID 0 SSD Array
hdisk8   Available 05-00-00 SAS RAID 0 SSD Array";i:1;N;i:2;N;}i:2;i:1197;}i:68;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1522;}i:69;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1522;}i:70;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:3;}i:2;i:1522;}i:71;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1522;}i:72;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:30:" Directly attached SAN storage";}i:2;i:1530;}i:73;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:275:"x1kxk630 on pggtdb01:/home/x1kxk630 $ lsdev -Ccdisk
hdisk0  Available C5-T1-01 EMC Symmetrix FCP MPIO VRAID
hdisk1  Available C7-T1-01 EMC Symmetrix FCP MPIO VRAID
hdisk2  Available C7-T1-01 EMC Symmetrix FCP MPIO VRAID
hdisk3  Available C4-T1-01 EMC Symmetrix FCP MPIO VRAID";i:1;N;i:2;N;}i:2;i:1565;}i:74;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1848;}i:75;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1848;}i:76;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:3;}i:2;i:1848;}i:77;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1848;}i:78;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:9:" Virtual ";}i:2;i:1856;}i:79;a:3:{i:0;s:7:"acronym";i:1;a:1:{i:0;s:4:"SCSI";}i:2;i:1865;}i:80;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:38:" disk presented through VIOS server(s)";}i:2;i:1869;}i:81;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:171:"hdisk0  Available  Virtual SCSI Disk Drive
hdisk8  Available  Virtual SCSI Disk Drive
hdisk9  Available  Virtual SCSI Disk Drive
hdisk10 Available  Virtual SCSI Disk Drive";i:1;N;i:2;N;}i:2;i:1912;}i:82;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:2091;}i:83;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2091;}i:84;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:2091;}i:85;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2091;}i:86;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:2091;}i:87;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2091;}i:88;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:2091;}i:89;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:2093;}i:90;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:33:"Adding disks to a Dual VIOS guest";i:1;i:3;i:2;i:2093;}i:2;i:2093;}i:91;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:3;}i:2;i:2093;}i:92;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:2137;}i:93;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:2137;}i:94;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:2137;}i:95;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:102:" Find out which VIO server serves the storage for the given server using one of the following methods.";}i:2;i:2141;}i:96;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:2243;}i:97;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:2243;}i:98;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:2243;}i:99;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:2243;}i:100;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:1:" ";}i:2;i:2249;}i:101;a:3:{i:0;s:12:"internallink";i:1;a:2:{i:0;s:24:"unix:viodisksmap-summary";i:1;s:26:"Look up unix documentation";}i:2;i:2250;}i:102;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:2305;}i:103;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2305;}i:104;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:2305;}i:105;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:2305;}i:106;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:77:" Look at the HMC, find out the managed system, then find out the VIO servers.";}i:2;i:2311;}i:107;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:2388;}i:108;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2388;}i:109;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:2388;}i:110;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2388;}i:111;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:2388;}i:112;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:2388;}i:113;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:1:" ";}i:2;i:2392;}i:114;a:3:{i:0;s:12:"internallink";i:1;a:2:{i:0;s:24:"unix:viodisksmap-summary";i:1;s:61:"Make a note of the array serial number from the documentation";}i:2;i:2393;}i:115;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:2483;}i:116;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2483;}i:117;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:2483;}i:118;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:2483;}i:119;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:38:" Find out the disk size used on the VG";}i:2;i:2487;}i:120;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:21:"lsvg -p , bootinfo -s";i:1;N;i:2;N;}i:2;i:2530;}i:121;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:2559;}i:122;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2559;}i:123;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:2559;}i:124;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:2559;}i:125;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:50:" Send a request to Storage team requesting storage";}i:2;i:2563;}i:126;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:164:"How many disks are needed ?
Size of each disk
To which server they should provision the storage ?
The array serial number from which the storage needs to be carved.";i:1;N;i:2;N;}i:2;i:2618;}i:127;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:2790;}i:128;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2790;}i:129;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:2790;}i:130;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:2792;}i:131;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:37:"Configure the storage on VIOS servers";i:1;i:3;i:2;i:2792;}i:2;i:2792;}i:132;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:3;}i:2;i:2792;}i:133;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:2840;}i:134;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:2840;}i:135;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:2840;}i:136;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:82:" The storage, once provisioned, will come back to you with some comments like this";}i:2;i:2844;}i:137;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:64:"LUN xyz has been allocated to taprvio50 & 51. Please run cfgmgr.";i:1;N;i:2;N;}i:2;i:2931;}i:138;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3003;}i:139;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3003;}i:140;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:3003;}i:141;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3003;}i:142;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:38:" Configure the storage on VIOS servers";}i:2;i:3007;}i:143;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3045;}i:144;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:3045;}i:145;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:3045;}i:146;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3045;}i:147;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:59:" On the first VIOS server. Document the current disk layout";}i:2;i:3051;}i:148;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:56:"sudo /usr/local/scripts/lsdiskcfg > lsdiskcfg.out.before";i:1;N;i:2;N;}i:2;i:3115;}i:149;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3115;}i:150;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:45:"Run cfgmgr to rescan and detect the new disks";}i:2;i:3179;}i:151;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3229;}i:152;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:11:"sudo cfgmgr";i:1;N;i:2;N;}i:2;i:3229;}i:153;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3229;}i:154;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:28:"Document the disk layout now";}i:2;i:3248;}i:155;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3281;}i:156;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:55:"sudo /usr/local/scripts/lsdiskcfg > lsdiskcfg.out.after";i:1;N;i:2;N;}i:2;i:3281;}i:157;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3281;}i:158;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:34:"Find out the new device using diff";}i:2;i:3344;}i:159;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3383;}i:160;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:45:"diff lsdiskcfg.out.before lsdiskcfg.out.after";i:1;N;i:2;N;}i:2;i:3383;}i:161;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3436;}i:162;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:3436;}i:163;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:3;}i:2;i:3436;}i:164;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3436;}i:165;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:64:" If VIOS server is using powerpath, disable reserve_lock policy.";}i:2;i:3444;}i:166;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3508;}i:167;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:3508;}i:168;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:4;}i:2;i:3508;}i:169;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3508;}i:170;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:25:" On some EMC ODM versions";}i:2;i:3518;}i:171;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:49:"sudo chdev -l <hdiskpowername> -a reserve_lock=no";i:1;N;i:2;N;}i:2;i:3548;}i:172;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3548;}i:173;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:22:"On some other versions";}i:2;i:3605;}i:174;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:3632;}i:175;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:57:"sudo chdev -l hdiskpowername -a reserve_policy=no_reserve";i:1;N;i:2;N;}i:2;i:3632;}i:176;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3697;}i:177;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3697;}i:178;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:3697;}i:179;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3697;}i:180;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:3;}i:2;i:3697;}i:181;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3697;}i:182;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:33:" If VIOS server is using AIX MPIO";}i:2;i:3705;}i:183;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:54:"sudo chdev -l <hdiskname> -a reserve_policy=no_reserve";i:1;N;i:2;N;}i:2;i:3743;}i:184;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3805;}i:185;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3805;}i:186;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:3;}i:2;i:3805;}i:187;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3805;}i:188;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:16:" Allocate a PVID";}i:2;i:3813;}i:189;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:40:"sudo chdev -l <hdiskpowername> -a pv=yes";i:1;N;i:2;N;}i:2;i:3834;}i:190;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3882;}i:191;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3882;}i:192;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:3882;}i:193;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3882;}i:194;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:3882;}i:195;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3882;}i:196;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:60:" On the second VIOS server, Document the current disk layout";}i:2;i:3888;}i:197;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:56:"sudo /usr/local/scripts/lsdiskcfg > lsdiskcfg.out.before";i:1;N;i:2;N;}i:2;i:3953;}i:198;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:3953;}i:199;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:45:"Run cfgmgr to rescan and detect the new disks";}i:2;i:4017;}i:200;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4067;}i:201;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:11:"sudo cfgmgr";i:1;N;i:2;N;}i:2;i:4067;}i:202;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4067;}i:203;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:28:"Document the disk layout now";}i:2;i:4086;}i:204;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4119;}i:205;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:55:"sudo /usr/local/scripts/lsdiskcfg > lsdiskcfg.out.after";i:1;N;i:2;N;}i:2;i:4119;}i:206;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4119;}i:207;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:34:"Find out the new device using diff";}i:2;i:4182;}i:208;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4221;}i:209;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:45:"diff lsdiskcfg.out.before lsdiskcfg.out.after";i:1;N;i:2;N;}i:2;i:4221;}i:210;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4221;}i:211;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:65:"Make sure you see the new disk on the second VIOS server as well.";}i:2;i:4274;}i:212;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4339;}i:213;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4339;}i:214;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:4339;}i:215;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:3;}i:2;i:4339;}i:216;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4339;}i:217;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:64:" If VIOS server is using powerpath, disable reserve_lock policy.";}i:2;i:4347;}i:218;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4411;}i:219;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:4411;}i:220;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:4;}i:2;i:4411;}i:221;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4411;}i:222;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:25:" On some EMC ODM versions";}i:2;i:4421;}i:223;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:49:"sudo chdev -l <hdiskpowername> -a reserve_lock=no";i:1;N;i:2;N;}i:2;i:4451;}i:224;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4451;}i:225;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:22:"On some other versions";}i:2;i:4508;}i:226;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4535;}i:227;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:57:"sudo chdev -l hdiskpowername -a reserve_policy=no_reserve";i:1;N;i:2;N;}i:2;i:4535;}i:228;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4600;}i:229;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4600;}i:230;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:4600;}i:231;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4600;}i:232;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:3;}i:2;i:4600;}i:233;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4600;}i:234;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:33:" If VIOS server is using AIX MPIO";}i:2;i:4608;}i:235;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:54:"sudo chdev -l <hdiskname> -a reserve_policy=no_reserve";i:1;N;i:2;N;}i:2;i:4646;}i:236;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4708;}i:237;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4708;}i:238;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:4708;}i:239;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4708;}i:240;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:4708;}i:241;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4708;}i:242;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:4708;}i:243;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:4710;}i:244;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:30:"Configure storage to the guest";i:1;i:3;i:2;i:4710;}i:2;i:4710;}i:245;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:3;}i:2;i:4710;}i:246;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:4751;}i:247;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:4751;}i:248;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4751;}i:249;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:63:" On VIOS server 1, find out the vhost that is used by the guest";}i:2;i:4755;}i:250;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:36:"grep <guestname> lsdiskcfg.out.after";i:1;N;i:2;N;}i:2;i:4823;}i:251;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4823;}i:252;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Make a note of it";}i:2;i:4867;}i:253;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4884;}i:254;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4884;}i:255;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4884;}i:256;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:4884;}i:257;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4884;}i:258;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:47:" Login as padmin and add the disks to the vhost";}i:2;i:4888;}i:259;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:16:"sudo su - padmin";i:1;N;i:2;N;}i:2;i:4940;}i:260;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:4940;}i:261;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:20:"Add the VIOS mapping";}i:2;i:4964;}i:262;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:4989;}i:263;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:52:"mkvdev -vdev <hdiskpowername> -vadapter <vhost_name>";i:1;N;i:2;N;}i:2;i:4989;}i:264;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5051;}i:265;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5051;}i:266;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5051;}i:267;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5051;}i:268;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:63:" On VIOS server 2, find out the vhost that is used by the guest";}i:2;i:5055;}i:269;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:36:"grep <guestname> lsdiskcfg.out.after";i:1;N;i:2;N;}i:2;i:5123;}i:270;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:5123;}i:271;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:17:"Make a note of it";}i:2;i:5167;}i:272;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:5184;}i:273;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5184;}i:274;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5184;}i:275;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5184;}i:276;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5184;}i:277;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:47:" Login as padmin and add the disks to the vhost";}i:2;i:5188;}i:278;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:16:"sudo su - padmin";i:1;N;i:2;N;}i:2;i:5240;}i:279;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:5240;}i:280;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:20:"Add the VIOS mapping";}i:2;i:5264;}i:281;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:5289;}i:282;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:52:"mkvdev -vdev <hdiskpowername> -vadapter <vhost_name>";i:1;N;i:2;N;}i:2;i:5289;}i:283;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5351;}i:284;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5351;}i:285;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:5351;}i:286;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:5353;}i:287;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:40:"Detect and configure the device on guest";i:1;i:3;i:2;i:5353;}i:2;i:5353;}i:288;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:3;}i:2;i:5353;}i:289;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:5404;}i:290;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5404;}i:291;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5404;}i:292;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:27:" Document the current disks";}i:2;i:5408;}i:293;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:18:"lspv > lspv.before";i:1;N;i:2;N;}i:2;i:5440;}i:294;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5466;}i:295;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5466;}i:296;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5466;}i:297;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5466;}i:298;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:11:" Run cfgmgr";}i:2;i:5470;}i:299;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:11:"sudo cfgmgr";i:1;N;i:2;N;}i:2;i:5486;}i:300;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5505;}i:301;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5505;}i:302;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5505;}i:303;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5505;}i:304;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:27:" Document the current disks";}i:2;i:5509;}i:305;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:17:"lspv > lspv.after";i:1;N;i:2;N;}i:2;i:5541;}i:306;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5566;}i:307;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5566;}i:308;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5566;}i:309;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5566;}i:310;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:61:" Find the difference which should list the disk we just added";}i:2;i:5570;}i:311;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:27:"diff lspv.before lspv.after";i:1;N;i:2;N;}i:2;i:5636;}i:312;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5671;}i:313;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5671;}i:314;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5671;}i:315;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5671;}i:316;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:62:" Check if the PVID matches to which we saw in the VIOS servers";}i:2;i:5675;}i:317;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5737;}i:318;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5737;}i:319;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5737;}i:320;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5737;}i:321;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:23:" Add the disk to the VG";}i:2;i:5741;}i:322;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:33:"sudo extendvg <vgname> <diskname>";i:1;N;i:2;N;}i:2;i:5769;}i:323;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5810;}i:324;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5810;}i:325;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:5810;}i:326;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:5812;}i:327;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:21:"Create the filesystem";i:1;i:3;i:2;i:5812;}i:2;i:5812;}i:328;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:3;}i:2;i:5812;}i:329;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:5844;}i:330;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5844;}i:331;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5844;}i:332;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:22:" Create the filesystem";}i:2;i:5848;}i:333;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:76:"sudo crfs -v jfs2 -A yes -t no -g <vg_name> -a size=<size>G -m <mount_point>";i:1;N;i:2;N;}i:2;i:5875;}i:334;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5959;}i:335;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5959;}i:336;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5959;}i:337;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5959;}i:338;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:26:" Then mount the filesystem";}i:2;i:5963;}i:339;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:24:"sudo mount <mount_point>";i:1;N;i:2;N;}i:2;i:5994;}i:340;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6026;}i:341;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6026;}i:342;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6026;}i:343;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6026;}i:344;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:21:" Change the ownership";}i:2;i:6030;}i:345;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:38:"sudo chown ctaadm:sapsys <mount_point>";i:1;N;i:2;N;}i:2;i:6056;}i:346;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6102;}i:347;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6102;}i:348;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6102;}i:349;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6102;}i:350;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:37:" Close the ticket and email the user.";}i:2;i:6106;}i:351;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6143;}i:352;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6143;}i:353;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:6143;}i:354;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:6143;}i:355;a:3:{i:0;s:12:"document_end";i:1;a:0:{}i:2;i:6143;}}