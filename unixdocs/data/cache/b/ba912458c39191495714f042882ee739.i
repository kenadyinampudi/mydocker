a:89:{i:0;a:3:{i:0;s:14:"document_start";i:1;a:0:{}i:2;i:0;}i:1;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:105:"rsync - Use nonprivileged unix account's ssh password-less login to sync files owned by root/another user";i:1;i:1;i:2;i:1;}i:2;i:1;}i:2;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:1;}i:2;i:1;}i:3;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:122;}i:4;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:8:"Scenario";i:1;i:2;i:2;i:122;}i:2;i:122;}i:5;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:2;}i:2;i:122;}i:6;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:143;}i:7;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:143;}i:8;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:143;}i:9;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:150:" server1 has a directory that contains software or data, no necessarily owned by the non-privileged user that a team uses for automating cron jobs etc";}i:2;i:147;}i:10;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:297;}i:11;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:297;}i:12;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:297;}i:13;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:297;}i:14;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:43:" The data needs to be replicated to server2";}i:2;i:301;}i:15;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:344;}i:16;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:344;}i:17;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:344;}i:18;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:344;}i:19;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:29:" The non-privileged user has ";}i:2;i:348;}i:20;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:377;}i:21;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:4:"sudo";}i:2;i:378;}i:22;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:382;}i:23;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:19:" rights to perform ";}i:2;i:383;}i:24;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:402;}i:25;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:5:"rsync";}i:2;i:403;}i:26;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:408;}i:27;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:21:" on both the servers.";}i:2;i:409;}i:28;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:430;}i:29;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:430;}i:30;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:430;}i:31;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:432;}i:32;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:12:"Our Scenario";i:1;i:3;i:2;i:432;}i:2;i:432;}i:33;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:3;}i:2;i:432;}i:34;a:3:{i:0;s:10:"listo_open";i:1;a:0:{}i:2;i:455;}i:35;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:455;}i:36;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:455;}i:37;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:9:" We have ";}i:2;i:459;}i:38;a:3:{i:0;s:12:"externallink";i:1;a:2:{i:0;s:19:"https://storagedocs";i:1;N;}i:2;i:468;}i:39;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:38:" running on pgunap01 in Lincolnshire. ";}i:2;i:487;}i:40;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:525;}i:41;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:525;}i:42;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:525;}i:43;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:525;}i:44;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:23:" We would like to host ";}i:2;i:529;}i:45;a:3:{i:0;s:12:"externallink";i:1;a:2:{i:0;s:22:"https://storagedocs-dr";i:1;N;}i:2;i:552;}i:46;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:33:" on pgunap02 server in Interxion.";}i:2;i:574;}i:47;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:607;}i:48;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:607;}i:49;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:607;}i:50;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:607;}i:51;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:59:" In order to make sure all documents are syncd, we need to ";}i:2;i:611;}i:52;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:670;}i:53;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:5:"rsync";}i:2;i:671;}i:54;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:676;}i:55;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:36:" the data from pgunap01 to pgunap02.";}i:2;i:677;}i:56;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:713;}i:57;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:713;}i:58;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:713;}i:59;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:713;}i:60;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:30:" We use a non-privileged user ";}i:2;i:717;}i:61;a:3:{i:0;s:18:"doublequoteopening";i:1;a:0:{}i:2;i:747;}i:62;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:8:"sanmontr";}i:2;i:748;}i:63;a:3:{i:0;s:18:"doublequoteclosing";i:1;a:0:{}i:2;i:756;}i:64;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:88:" to schedule cronjobs i.e. We don't use root or any system account for security reasons.";}i:2;i:757;}i:65;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:845;}i:66;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:845;}i:67;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:845;}i:68;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:845;}i:69;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:77:" sanmontr unix account has 'sudo rsync' rights on both pgunap01 and pgunap02.";}i:2;i:849;}i:70;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:926;}i:71;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:926;}i:72;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:926;}i:73;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:926;}i:74;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:84:" sanmontr unix account has ssh-password-less login access from pgunap01 to pgunap02.";}i:2;i:930;}i:75;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1014;}i:76;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1014;}i:77;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:1014;}i:78;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1014;}i:79;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:1:" ";}i:2;i:1018;}i:80;a:3:{i:0;s:11:"strong_open";i:1;a:0:{}i:2;i:1019;}i:81;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:90:"After much googling and brain picking multiple people here, we got this method that works.";}i:2;i:1021;}i:82;a:3:{i:0;s:12:"strong_close";i:1;a:0:{}i:2;i:1111;}i:83;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:79:"rsync --delete -a ${wikihome}/ --rsync-path="sudo rsync" ${drhost}:${wikihome}/";i:1;N;i:2;N;}i:2;i:1118;}i:84;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1205;}i:85;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1205;}i:86;a:3:{i:0;s:11:"listo_close";i:1;a:0:{}i:2;i:1205;}i:87;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:1205;}i:88;a:3:{i:0;s:12:"document_end";i:1;a:0:{}i:2;i:1205;}}