a:332:{i:0;a:3:{i:0;s:14:"document_start";i:1;a:0:{}i:2;i:0;}i:1;a:3:{i:0;s:6:"header";i:1;a:3:{i:0;s:48:"Production Manhattan baremetal storage migration";i:1;i:1;i:2;i:1;}i:2;i:1;}i:2;a:3:{i:0;s:12:"section_open";i:1;a:1:{i:0;i:1;}i:2;i:1;}i:3;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:64;}i:4;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:64;}i:5;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:64;}i:6;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:10:" Step 6 - ";}i:2;i:68;}i:7;a:3:{i:0;s:12:"internallink";i:1;a:2:{i:0;s:32:"unix:update_mpath_and_udev_rules";i:1;s:57:"Updating Multipath and udev Rules for PURE on lddcgblx001";}i:2;i:78;}i:8;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:172;}i:9;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:172;}i:10;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:172;}i:11;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:172;}i:12;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:43:" Step 9 - Scan for new disks on lddcgblx001";}i:2;i:176;}i:13;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:219;}i:14;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:219;}i:15;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:219;}i:16;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:219;}i:17;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:34:" Take a snapshot of existing disks";}i:2;i:226;}i:18;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:37:"sudo multipath -ll > multipath.before";i:1;N;i:2;N;}i:2;i:265;}i:19;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:310;}i:20;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:310;}i:21;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:310;}i:22;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:310;}i:23;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:23:" Rescan for new devices";}i:2;i:317;}i:24;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:120:"for dir in $(sudo ls -ld1 /sys/class/scsi_host/host* | awk '{print $9}' )
do
   echo "- - -" | sudo tee ${dir}/scan
done";i:1;N;i:2;N;}i:2;i:345;}i:25;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:473;}i:26;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:473;}i:27;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:473;}i:28;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:473;}i:29;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:22:" Reload multipath maps";}i:2;i:479;}i:30;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:17:"sudo multipath -r";i:1;N;i:2;N;}i:2;i:506;}i:31;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:531;}i:32;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:531;}i:33;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:531;}i:34;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:531;}i:35;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:29:" Take a snapshot of disks now";}i:2;i:537;}i:36;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:36:"sudo multipath -ll > multipath.after";i:1;N;i:2;N;}i:2;i:571;}i:37;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:615;}i:38;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:615;}i:39;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:615;}i:40;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:615;}i:41;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:615;}i:42;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:615;}i:43;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:40:" Step 10 - Reboot lddcgblx001 & Validate";}i:2;i:619;}i:44;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:659;}i:45;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:659;}i:46;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:659;}i:47;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:659;}i:48;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:7:" Reboot";}i:2;i:665;}i:49;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:15:"shutdown -r now";i:1;N;i:2;N;}i:2;i:677;}i:50;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:700;}i:51;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:700;}i:52;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:700;}i:53;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:700;}i:54;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:117:" After lddcgblx001 comes up, login and confirm that all vgs are active and filesystem mounted and both PURE (for non ";}i:2;i:706;}i:55;a:3:{i:0;s:7:"acronym";i:1;a:1:{i:0;s:2:"OS";}i:2;i:823;}i:56;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:44:" disks only) & HITACHI disks are available. ";}i:2;i:825;}i:57;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:24:"vgs
multipath -ll 
df -h";i:1;N;i:2;N;}i:2;i:874;}i:58;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:906;}i:59;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:906;}i:60;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:906;}i:61;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:906;}i:62;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:906;}i:63;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:906;}i:64;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:11:" Step 11 - ";}i:2;i:910;}i:65;a:3:{i:0;s:12:"internallink";i:1;a:2:{i:0;s:32:"unix:update_mpath_and_udev_rules";i:1;s:57:"Updating Multipath and udev Rules for PURE on lddcgblx002";}i:2;i:921;}i:66;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1015;}i:67;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1015;}i:68;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:1015;}i:69;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1015;}i:70;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:44:" Step 12 - Scan for new disks on lddcgblx002";}i:2;i:1019;}i:71;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1063;}i:72;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:1063;}i:73;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1063;}i:74;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1063;}i:75;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:34:" Take a snapshot of existing disks";}i:2;i:1070;}i:76;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:37:"sudo multipath -ll > multipath.before";i:1;N;i:2;N;}i:2;i:1109;}i:77;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1154;}i:78;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1154;}i:79;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1154;}i:80;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1154;}i:81;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:23:" Rescan for new devices";}i:2;i:1161;}i:82;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:120:"for dir in $(sudo ls -ld1 /sys/class/scsi_host/host* | awk '{print $9}' )
do
   echo "- - -" | sudo tee ${dir}/scan
done";i:1;N;i:2;N;}i:2;i:1189;}i:83;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1317;}i:84;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1317;}i:85;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1317;}i:86;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1317;}i:87;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:22:" Reload multipath maps";}i:2;i:1323;}i:88;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:17:"sudo multipath -r";i:1;N;i:2;N;}i:2;i:1350;}i:89;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1375;}i:90;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1375;}i:91;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1375;}i:92;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1375;}i:93;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:29:" Take a snapshot of disks now";}i:2;i:1381;}i:94;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:36:"sudo multipath -ll > multipath.after";i:1;N;i:2;N;}i:2;i:1415;}i:95;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1459;}i:96;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1459;}i:97;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:1459;}i:98;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1459;}i:99;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:1459;}i:100;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1459;}i:101;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:40:" Step 13 - Reboot lddcgblx002 & Validate";}i:2;i:1463;}i:102;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1503;}i:103;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:1503;}i:104;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1503;}i:105;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1503;}i:106;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:7:" Reboot";}i:2;i:1509;}i:107;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:15:"shutdown -r now";i:1;N;i:2;N;}i:2;i:1521;}i:108;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1544;}i:109;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1544;}i:110;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1544;}i:111;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1544;}i:112;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:117:" After lddcgblx002 comes up, login and confirm that all vgs are active and filesystem mounted and both PURE (for non ";}i:2;i:1550;}i:113;a:3:{i:0;s:7:"acronym";i:1;a:1:{i:0;s:2:"OS";}i:2;i:1667;}i:114;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:44:" disks only) & HITACHI disks are available. ";}i:2;i:1669;}i:115;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:24:"vgs
multipath -ll 
df -h";i:1;N;i:2;N;}i:2;i:1718;}i:116;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1750;}i:117;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1750;}i:118;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:1750;}i:119;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1750;}i:120;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:1750;}i:121;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1750;}i:122;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:36:" Step 15 - Create ASM disks & Rescan";}i:2;i:1754;}i:123;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1790;}i:124;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:1790;}i:125;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1790;}i:126;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1790;}i:127;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:50:" Make sure you can see all the new disks from PURE";}i:2;i:1797;}i:128;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:13:"multipath -ll";i:1;N;i:2;N;}i:2;i:1852;}i:129;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1873;}i:130;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1873;}i:131;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1873;}i:132;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1873;}i:133;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:29:" Reload or rescan if required";}i:2;i:1880;}i:134;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:12:"multipath -r";i:1;N;i:2;N;}i:2;i:1914;}i:135;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:1934;}i:136;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:1934;}i:137;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:1934;}i:138;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:1934;}i:139;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:87:" Get a Summary of all the new disks so you can use them to construct the fdisk commands";}i:2;i:1941;}i:140;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:196:"for mpdsk in `multipath -ll |grep PURE |awk '{print $1}'`
do
echo "/dev/mapper/"$mpdsk $(multipath $mpdsk -ll |grep sd |awk '{print $3}') $(multipath $mpdsk -ll |grep size |awk '{print $1}') 
done";i:1;N;i:2;N;}i:2;i:2033;}i:141;a:3:{i:0;s:6:"p_open";i:1;a:0:{}i:2;i:2033;}i:142;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:20:" Sample output below";}i:2;i:2237;}i:143;a:3:{i:0;s:7:"p_close";i:1;a:0:{}i:2;i:2262;}i:144;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:362:"/dev/mapper/mpathp sdl sdd sdt sdab size=110G
/dev/mapper/mpatho sda sdi sdq sdy size=50G
/dev/mapper/mpathn sdb sdj sdr sdz size=40G
/dev/mapper/mpathm sdc sdk sds sdaa size=260G
/dev/mapper/mpathl sdh sdp sdx sdaf size=500G
/dev/mapper/mpathk sdo sdg sdw sdae size=450G
/dev/mapper/mpathj sdf sdn sdv sdad size=150G
/dev/mapper/mpathi sde sdm sdu sdac size=20G";i:1;N;i:2;N;}i:2;i:2262;}i:145;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:2632;}i:146;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2632;}i:147;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:2632;}i:148;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:2632;}i:149;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:105:" If the above output only returns 20, 150 & 500GB disks, then the partitioning can also be done in a loop";}i:2;i:2639;}i:150;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:192:"for mpdsk in `multipath -ll |grep PURE |awk '{print $1}'`
do
fdisk "/dev/mapper/"$mpdsk 
partprobe "/dev/mapper/"$mpdsk || partprobe "/dev/mapper/"$mpdsk || partprobe "/dev/mapper/"$mpdsk
done";i:1;N;i:2;N;}i:2;i:2749;}i:151;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:2949;}i:152;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:2949;}i:153;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:2949;}i:154;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:2949;}i:155;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:232:" If partprobe returns error, run the previous fdisk command against the sd devices rather than the mpath devices. No need to delete & recreate the partition, just “w”(write) and exit and then run partprobe on the sd device file.";}i:2;i:2956;}i:156;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3188;}i:157;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3188;}i:158;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:3188;}i:159;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3188;}i:160;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:106:" Create ASM disks using below format in correct order DATA disks and followed by OCS voting disk on node1 ";}i:2;i:3195;}i:161;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:248:" /usr/sbin/oracleasm createdisk DATA02_PR /dev/mapper/mpathlp1
/usr/sbin/oracleasm createdisk DATA01_PR /dev/mapper/mpathkp1
/usr/sbin/oracleasm createdisk OCR_VT_PR /dev/mapper/mpathip1
/usr/sbin/oracleasm createdisk DATA03_PR /dev/mapper/mpathjp1";i:1;N;i:2;N;}i:2;i:3306;}i:162;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3562;}i:163;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3562;}i:164;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:3562;}i:165;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3562;}i:166;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:35:" scan for new disks on lddcgblx001 ";}i:2;i:3569;}i:167;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:29:"/usr/sbin/oracleasm scandisks";i:1;N;i:2;N;}i:2;i:3609;}i:168;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3646;}i:169;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3646;}i:170;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:3646;}i:171;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3646;}i:172;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:18:" confirm new disks";}i:2;i:3653;}i:173;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:29:"/usr/sbin/oracleasm listdisks";i:1;N;i:2;N;}i:2;i:3676;}i:174;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3713;}i:175;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3713;}i:176;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:3713;}i:177;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3713;}i:178;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:66:" Below commands outputs shows new disks along with older ASM disks";}i:2;i:3720;}i:179;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:186:"/etc/init.d/oracleasm listdisks | xargs /etc/init.d/oracleasm querydisk -d
find /dev -type b -exec '/etc/init.d/oracleasm' 'querydisk' '{}' ';' 2>/dev/null | grep "is marked an ASM disk"";i:1;N;i:2;N;}i:2;i:3791;}i:180;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:3985;}i:181;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:3985;}i:182;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:3985;}i:183;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:3985;}i:184;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:27:" Rescan for new devices on ";}i:2;i:3992;}i:185;a:3:{i:0;s:11:"strong_open";i:1;a:0:{}i:2;i:4019;}i:186;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:11:"lddcgblx002";}i:2;i:4021;}i:187;a:3:{i:0;s:12:"strong_close";i:1;a:0:{}i:2;i:4032;}i:188;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:120:"for dir in $(sudo ls -ld1 /sys/class/scsi_host/host* | awk '{print $9}' )
do
   echo "- - -" | sudo tee ${dir}/scan
done";i:1;N;i:2;N;}i:2;i:4039;}i:189;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4167;}i:190;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4167;}i:191;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:4167;}i:192;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4167;}i:193;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:22:" Reload multipath maps";}i:2;i:4173;}i:194;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:17:"sudo multipath -r";i:1;N;i:2;N;}i:2;i:4200;}i:195;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4225;}i:196;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4225;}i:197;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:4225;}i:198;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4225;}i:199;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:28:" scan new PURE ASM disks on ";}i:2;i:4231;}i:200;a:3:{i:0;s:11:"strong_open";i:1;a:0:{}i:2;i:4259;}i:201;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:11:"lddcgblx002";}i:2;i:4261;}i:202;a:3:{i:0;s:12:"strong_close";i:1;a:0:{}i:2;i:4272;}i:203;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:2:"  ";}i:2;i:4274;}i:204;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:246:"/usr/sbin/oracleasm scandisks
/usr/sbin/oracleasm listdisks
/etc/init.d/oracleasm listdisks | xargs /etc/init.d/oracleasm querydisk -d
find /dev -type b -exec '/etc/init.d/oracleasm' 'querydisk' '{}' ';' 2>/dev/null | grep "is marked an ASM disk"";i:1;N;i:2;N;}i:2;i:4281;}i:205;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4535;}i:206;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4535;}i:207;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:4535;}i:208;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4535;}i:209;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:4535;}i:210;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4535;}i:211;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:89:" Start ASM Migration from Hitachi to Pure Storage LUNs and data validation post migration";}i:2;i:4539;}i:212;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4628;}i:213;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4628;}i:214;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:4628;}i:215;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4628;}i:216;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:54:" Step 17 - Reboot Node 1 and Node 2 in rolling fashion";}i:2;i:4632;}i:217;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4686;}i:218;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:4686;}i:219;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:4686;}i:220;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4686;}i:221;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:104:" Step 18 - Remove old disks from ASM Lib (shutdown the cluster service, reboot and remove old ASM disks)";}i:2;i:4690;}i:222;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:4794;}i:223;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:4794;}i:224;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:4794;}i:225;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:4794;}i:226;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:76:" Shutdown and disable cluster services on node1. As root execute these steps";}i:2;i:4800;}i:227;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:119:"cd /u01/app/11.2.0.3/grid/bin

./crsctl check cluster -all

./crsctl stop crs

./crsctl disable crs

./crsctl check crs";i:1;N;i:2;N;}i:2;i:4881;}i:228;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5008;}i:229;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5008;}i:230;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:5008;}i:231;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5008;}i:232;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:35:" After reboot, stop ASMLIB on node1";}i:2;i:5014;}i:233;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:22:"service oracleasm stop";i:1;N;i:2;N;}i:2;i:5054;}i:234;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5084;}i:235;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5084;}i:236;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:5084;}i:237;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5084;}i:238;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:228:" Remove the disk using physical name like correct mpath name rather than logical name with correct names. Refer to earlier configuration output to get disk details to remove. Use fdisk -l to confirm mapth name with partion name.";}i:2;i:5090;}i:239;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:183:"fdisk -l /dev/mapper/mpathe
/usr/sbin/oracleasm deletedisk /dev/mapper/mpathep1
/usr/sbin/oracleasm deletedisk /dev/mapper/mpathgp1
/usr/sbin/oracleasm deletedisk /dev/mapper/mpathfp1";i:1;N;i:2;N;}i:2;i:5323;}i:240;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5514;}i:241;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5514;}i:242;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:5514;}i:243;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5514;}i:244;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:31:" Restart ASMLIB on lddcgblx001 ";}i:2;i:5520;}i:245;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:23:"service oracleasm start";i:1;N;i:2;N;}i:2;i:5556;}i:246;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5587;}i:247;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5587;}i:248;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:5587;}i:249;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5587;}i:250;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:23:" Enable CRS and reboot:";}i:2;i:5593;}i:251;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:66:"cd /u01/app/11.2.0.3/grid/bin
./crsctl enable crs

shutdown -r now";i:1;N;i:2;N;}i:2;i:5621;}i:252;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5695;}i:253;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5695;}i:254;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:5695;}i:255;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5695;}i:256;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:5695;}i:257;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5695;}i:258;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:72:" Step 19 - Validate everything stays up and re-scan ASM devices on node2";}i:2;i:5699;}i:259;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5771;}i:260;a:3:{i:0;s:10:"listu_open";i:1;a:0:{}i:2;i:5771;}i:261;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:5771;}i:262;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5771;}i:263;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:41:" Confirm old ASM disks are not visible - ";}i:2;i:5777;}i:264;a:3:{i:0;s:7:"acronym";i:1;a:1:{i:0;s:3:"DBA";}i:2;i:5818;}i:265;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5821;}i:266;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5821;}i:267;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:5821;}i:268;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5821;}i:269;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:45:" Confirm old ASM disks are not visible - Unix";}i:2;i:5827;}i:270;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:5872;}i:271;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:5872;}i:272;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:2;}i:2;i:5872;}i:273;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:5872;}i:274;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:27:" Rescan ASM disks on node 2";}i:2;i:5878;}i:275;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:246:"/usr/sbin/oracleasm scandisks
/usr/sbin/oracleasm listdisks
/etc/init.d/oracleasm listdisks | xargs /etc/init.d/oracleasm querydisk -d
find /dev -type b -exec '/etc/init.d/oracleasm' 'querydisk' '{}' ';' 2>/dev/null | grep "is marked an ASM disk"";i:1;N;i:2;N;}i:2;i:5910;}i:276;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6164;}i:277;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6164;}i:278;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:6164;}i:279;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6164;}i:280;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6164;}i:281;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6164;}i:282;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:68:" Step 20 -	Request Boot disk and local storage for Node 1 and Node 2";}i:2;i:6168;}i:283;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6236;}i:284;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6236;}i:285;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6236;}i:286;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6236;}i:287;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:11:" Step 22 - ";}i:2;i:6240;}i:288;a:3:{i:0;s:12:"internallink";i:1;a:2:{i:0;s:18:"unix:rootmigration";i:1;s:44:"Perform LVM and Boot Disk Migration on Node1";}i:2;i:6251;}i:289;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6318;}i:290;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6318;}i:291;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6318;}i:292;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6318;}i:293;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:31:" Step 23 - Shutdown lddcgblx001";}i:2;i:6322;}i:294;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:86:"[[ `hostname` == lddcgblx001 ]] && shutdown -h now || echo "you are on the wrong node"";i:1;N;i:2;N;}i:2;i:6358;}i:295;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6452;}i:296;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6452;}i:297;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6452;}i:298;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6452;}i:299;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:54:" Step 24 - Remove all Hitachi Storage from lddcgblx001";}i:2;i:6456;}i:300;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6510;}i:301;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6510;}i:302;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6510;}i:303;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6510;}i:304;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:74:" Step 26 - Validate lddcgblx001 - Resources, ASM and database connectivity";}i:2;i:6514;}i:305;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6588;}i:306;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6588;}i:307;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6588;}i:308;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6588;}i:309;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:11:" Step 27 - ";}i:2;i:6592;}i:310;a:3:{i:0;s:12:"internallink";i:1;a:2:{i:0;s:18:"unix:rootmigration";i:1;s:50:"Perform LVM and Boot Disk Migration on lddcgblx002";}i:2;i:6603;}i:311;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6676;}i:312;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6676;}i:313;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6676;}i:314;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6676;}i:315;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:31:" Step 28 - Shutdown lddcgblx002";}i:2;i:6680;}i:316;a:3:{i:0;s:4:"code";i:1;a:3:{i:0;s:86:"[[ `hostname` == lddcgblx002 ]] && shutdown -h now || echo "you are on the wrong node"";i:1;N;i:2;N;}i:2;i:6716;}i:317;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6810;}i:318;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6810;}i:319;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6810;}i:320;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6810;}i:321;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:50:" Step 29 - Remove all Hitachi storages from Node 2";}i:2;i:6814;}i:322;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6864;}i:323;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6864;}i:324;a:3:{i:0;s:13:"listitem_open";i:1;a:1:{i:0;i:1;}i:2;i:6864;}i:325;a:3:{i:0;s:16:"listcontent_open";i:1;a:0:{}i:2;i:6864;}i:326;a:3:{i:0;s:5:"cdata";i:1;a:1:{i:0;s:69:" Step 31 - Validate Node 2 - Resources, ASM and database connectivity";}i:2;i:6868;}i:327;a:3:{i:0;s:17:"listcontent_close";i:1;a:0:{}i:2;i:6937;}i:328;a:3:{i:0;s:14:"listitem_close";i:1;a:0:{}i:2;i:6937;}i:329;a:3:{i:0;s:11:"listu_close";i:1;a:0:{}i:2;i:6937;}i:330;a:3:{i:0;s:13:"section_close";i:1;a:0:{}i:2;i:6937;}i:331;a:3:{i:0;s:12:"document_end";i:1;a:0:{}i:2;i:6937;}}